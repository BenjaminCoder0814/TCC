(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521],{8027:function(e,s,a){Promise.resolve().then(a.bind(a,6138))},6138:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return o}});var t=a(7437),r=a(2265),l=a(7138),i=a(34),c=a(9966),n=a(5624),d=a(9630);function o(){let{items:e,totalItems:s,totalPrice:a,updateQuantity:o,removeFromCart:x,clearCart:m}=(0,n.j)(),{isAuthenticated:h}=(0,d.a)(),[j,p]=(0,r.useState)(!1),[u,g]=(0,r.useState)(!1),f=a>199?0:15.9,b=a>299?.1*a:0,N=(e,s)=>{s<=0?x(e):o(e,s)},y=async()=>{if(!h){alert("Fa\xe7a login para finalizar a compra");return}p(!0),setTimeout(()=>{p(!1),g(!0)},2e3)};return u?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(i.Z,{}),(0,t.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)("i",{className:"fas fa-check text-green-500 text-3xl"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Pedido Realizado!"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Seu pedido foi processado com sucesso. Voc\xea receber\xe1 um email com os detalhes."}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"N\xfamero do pedido:"}),(0,t.jsxs)("p",{className:"font-mono text-lg font-semibold",children:["ML-",Date.now()]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(l.default,{href:"/meus-pedidos",className:"block w-full bg-primary-500 text-white py-3 rounded-lg hover:bg-primary-600 transition-colors",children:"Ver Meus Pedidos"}),(0,t.jsx)(l.default,{href:"/loja",className:"block w-full border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors",children:"Continuar Comprando"})]})]})}),(0,t.jsx)(c.Z,{})]}):0===e.length?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(i.Z,{}),(0,t.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)("i",{className:"fas fa-shopping-cart text-6xl text-gray-300 mb-6"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"Seu carrinho est\xe1 vazio"}),(0,t.jsx)("p",{className:"text-gray-500 mb-8",children:"Adicione produtos incr\xedveis para come\xe7ar suas compras"}),(0,t.jsxs)(l.default,{href:"/loja",className:"inline-block bg-primary-500 text-white px-8 py-3 rounded-lg hover:bg-primary-600 transition-colors",children:[(0,t.jsx)("i",{className:"fas fa-store mr-2"}),"Ir para a Loja"]})]})}),(0,t.jsx)(c.Z,{})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(i.Z,{}),(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Carrinho"}),(0,t.jsxs)("p",{className:"text-gray-600",children:[s," ",1===s?"item":"itens"]})]}),(0,t.jsxs)("button",{onClick:m,className:"text-red-500 hover:text-red-600 transition-colors",children:[(0,t.jsx)("i",{className:"fas fa-trash mr-2"}),"Limpar Carrinho"]})]}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-md",children:e.map((s,a)=>(0,t.jsx)("div",{className:"p-6 ".concat(a!==e.length-1?"border-b border-gray-200":""),children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("img",{src:s.product.image,alt:s.product.name,className:"w-20 h-20 object-cover rounded-lg"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 mb-1",children:s.product.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:s.product.category}),(0,t.jsxs)("p",{className:"text-lg font-bold text-primary-500",children:["R$ ",s.product.price.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("button",{onClick:()=>N(s.product.id,s.quantity-1),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors",children:(0,t.jsx)("i",{className:"fas fa-minus text-sm"})}),(0,t.jsx)("span",{className:"w-8 text-center font-semibold",children:s.quantity}),(0,t.jsx)("button",{onClick:()=>N(s.product.id,s.quantity+1),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors",children:(0,t.jsx)("i",{className:"fas fa-plus text-sm"})})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("p",{className:"font-semibold text-gray-800",children:["R$ ",(s.product.price*s.quantity).toFixed(2)]})}),(0,t.jsx)("button",{onClick:()=>x(s.product.id),className:"text-red-500 hover:text-red-600 transition-colors p-2",children:(0,t.jsx)("i",{className:"fas fa-times"})})]})},s.product.id))})}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 sticky top-8",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Resumo do Pedido"}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,t.jsxs)("span",{className:"font-semibold",children:["R$ ",a.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Frete"}),(0,t.jsx)("span",{className:"font-semibold ".concat(0===f?"text-green-500":""),children:0===f?"Gr\xe1tis":"R$ ".concat(f.toFixed(2))})]}),b>0&&(0,t.jsxs)("div",{className:"flex justify-between text-green-500",children:[(0,t.jsx)("span",{children:"Desconto (10%)"}),(0,t.jsxs)("span",{className:"font-semibold",children:["-R$ ",b.toFixed(2)]})]}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{className:"flex justify-between text-lg",children:[(0,t.jsx)("span",{className:"font-bold",children:"Total"}),(0,t.jsxs)("span",{className:"font-bold text-primary-500",children:["R$ ",(a+f-b).toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,t.jsx)("i",{className:"fas fa-truck mr-2"}),0===f?(0,t.jsx)("span",{className:"text-green-600",children:"Frete gr\xe1tis para compras acima de R$ 199"}):(0,t.jsxs)("span",{children:["Frete: R$ ",f.toFixed(2)," - Gr\xe1tis acima de R$ 199"]})]}),b>0&&(0,t.jsxs)("div",{className:"flex items-center text-sm text-green-600 mt-2",children:[(0,t.jsx)("i",{className:"fas fa-tag mr-2"}),(0,t.jsx)("span",{children:"Desconto de 10% aplicado para compras acima de R$ 299"})]})]}),(0,t.jsx)("button",{onClick:y,disabled:j,className:"w-full bg-primary-500 text-white py-3 rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mb-4",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Processando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"fas fa-credit-card mr-2"}),"Finalizar Compra"]})}),(0,t.jsxs)(l.default,{href:"/loja",className:"block w-full text-center border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("i",{className:"fas fa-arrow-left mr-2"}),"Continuar Comprando"]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Formas de pagamento:"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("div",{className:"bg-green-500 text-white px-3 py-1 rounded text-xs font-medium",children:"PIX"}),(0,t.jsx)("div",{className:"bg-blue-500 text-white px-3 py-1 rounded text-xs font-medium",children:"Cart\xe3o"}),(0,t.jsx)("div",{className:"bg-yellow-500 text-white px-3 py-1 rounded text-xs font-medium",children:"Boleto"})]})]})]})})]})]}),(0,t.jsx)(c.Z,{})]})}}},function(e){e.O(0,[138,632,971,23,744],function(){return e(e.s=8027)}),_N_E=e.O()}]);